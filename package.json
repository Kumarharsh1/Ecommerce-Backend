$updatedPackageJson = @{
  name = "backend"
  version = "1.0.0"
  description = "MERN E-commerce Backend"
  main = "server.js"
  scripts = @{
    start = "node server.js"
    dev = "nodemon server.js"
    test = "echo 'No tests specified'"
    "deploy-check" = "node scripts/deploy-check.js"
  }
  engines = @{
    node = ">=18.0.0"
    npm = ">=8.0.0"
  }
  dependencies = [ordered]@{
    express = "^4.18.2"
    mongoose = "^8.0.3"
    dotenv = "^16.3.1"
    bcryptjs = "^2.4.3"
    jsonwebtoken = "^9.0.2"
    "multer": "^1.4.4"
    cors = "^2.8.5"
  }
  devDependencies = [ordered]@{
    nodemon = "^3.0.1"
  }
}

# Convert to JSON with proper formatting
$updatedPackageJson | ConvertTo-Json -Depth 10 | Set-Content -Path "./package.json"

Write-Host "âœ… Created updated package.json with correct structure" -ForegroundColor Green
